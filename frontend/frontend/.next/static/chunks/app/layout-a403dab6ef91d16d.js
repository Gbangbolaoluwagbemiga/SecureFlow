(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{834:(e,t,a)=>{"use strict";a.d(t,{v:()=>o});var s=a(1521),r=a(7408),n=a(5096),i=a(919);function o(){let{wallet:e,getContract:t}=(0,r.$)(),[a,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!e.isConnected||!e.address){o(!1);return}l()},[e.isConnected,e.address]);let l=async()=>{d(!0);try{let s=t(n.oB.SECUREFLOW_ESCROW,i.f);if(!s){o(!1);return}let r=await s.call("nextEscrowId"),c=Number(r);if(c>1)for(let t=1;t<c;t++)try{var a;if((await s.call("getEscrowSummary",t))[0].toLowerCase()===(null===(a=e.address)||void 0===a?void 0:a.toLowerCase())){o(!0),d(!1);return}}catch(e){continue}o(!1)}catch(e){o(!1)}finally{d(!1)}};return{isJobCreator:a,loading:c}}},3391:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>v});var s=a(3365),r=a(740),n=a(1521),i=a(9789),o=a(2934),c=a(2196),d=a(9671);let l=i.Kq,m=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.LM,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});m.displayName=i.LM.displayName;let u=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=n.forwardRef((e,t)=>{let{className:a,variant:r,...n}=e;return(0,s.jsx)(i.bL,{ref:t,className:(0,d.cn)(u({variant:r}),a),...n})});p.displayName=i.bL.displayName,n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.rc,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})}).displayName=i.rc.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.bm,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(c.A,{className:"h-4 w-4"})})});x.displayName=i.bm.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hE,{ref:t,className:(0,d.cn)("text-sm font-semibold",a),...r})});h.displayName=i.hE.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,d.cn)("text-sm opacity-90",a),...r})});function v(){let{toasts:e}=(0,r.dj)();return(0,s.jsxs)(l,{children:[e.map(function(e){let{id:t,title:a,description:r,action:n,...i}=e;return(0,s.jsxs)(p,{...i,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(h,{children:a}),r&&(0,s.jsx)(f,{children:r})]}),n,(0,s.jsx)(x,{})]},t)}),(0,s.jsx)(m,{})]})}f.displayName=i.VY.displayName},3600:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});var s=a(3365),r=a(7246);function n(e){let{children:t,...a}=e;return(0,s.jsx)(r.N,{...a,children:t})}},4270:()=>{},4329:(e,t,a)=>{"use strict";a.d(t,{h:()=>c});var s=a(1521),r=a(7408),n=a(5287),i=a(5096),o=a(919);function c(){let{wallet:e,getContract:t}=(0,r.$)(),{getActiveDelegations:a,delegations:c}=(0,n.k)(),[d,l]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!e.isConnected||!e.address){l(!1);return}p()},[e.isConnected,e.address,c.length]);let p=async()=>{u(!0);try{var s;let r=t(i.oB.SECUREFLOW_ESCROW,o.f);if(!r){l(!1);return}let n=(await r.call("owner")).toString().toLowerCase()===(null===(s=e.address)||void 0===s?void 0:s.toLowerCase()),c=a().some(t=>{var a;return t.delegatee.toLowerCase()===(null===(a=e.address)||void 0===a?void 0:a.toLowerCase())});l(n||c)}catch(e){l(!1)}finally{u(!1)}};return{isAdmin:d,loading:m}}},4708:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,4270,23)),Promise.resolve().then(a.bind(a,6231)),Promise.resolve().then(a.bind(a,3600)),Promise.resolve().then(a.bind(a,3391)),Promise.resolve().then(a.bind(a,5287)),Promise.resolve().then(a.bind(a,6364)),Promise.resolve().then(a.bind(a,6782)),Promise.resolve().then(a.bind(a,7408)),Promise.resolve().then(a.t.bind(a,2118,23)),Promise.resolve().then(a.t.bind(a,4974,23))},6231:(e,t,a)=>{"use strict";a.d(t,{Navbar:()=>H});var s=a(3365),r=a(9534),n=a.n(r),i=a(627),o=a(8600),c=a(7408),d=a(5645),l=a(9703),m=a(1521),u=a(8837),p=a(9671);function x(e){let{...t}=e;return(0,s.jsx)(u.bL,{"data-slot":"dropdown-menu",...t})}function h(e){let{...t}=e;return(0,s.jsx)(u.l9,{"data-slot":"dropdown-menu-trigger",...t})}function f(e){let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(u.ZL,{children:(0,s.jsx)(u.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,p.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function v(e){let{className:t,inset:a,variant:r="default",...n}=e;return(0,s.jsx)(u.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:(0,p.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function g(e){let{className:t,inset:a,...r}=e;return(0,s.jsx)(u.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,p.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function j(e){let{className:t,...a}=e;return(0,s.jsx)(u.wv,{"data-slot":"dropdown-menu-separator",className:(0,p.cn)("bg-border -mx-1 my-1 h-px",t),...a})}var y=a(5096);function b(){var e,t;let{wallet:a,connectWallet:r,disconnectWallet:n,switchToMonad:i}=(0,c.$)();if(!a.isConnected)return(0,s.jsxs)(o.$,{onClick:r,className:"gap-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),"Connect Wallet"]});let m=Number.parseInt(y.GY.chainId,16),u=a.chainId===m;return(0,s.jsxs)(x,{children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsxs)(o.$,{variant:"outline",className:"gap-2 bg-transparent",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),!u&&(0,s.jsx)(l.A,{className:"h-4 w-4 text-destructive"}),null===(e=a.address)||void 0===e?void 0:e.slice(0,6),"...",null===(t=a.address)||void 0===t?void 0:t.slice(-4)]})}),(0,s.jsxs)(f,{align:"end",className:"w-56",children:[(0,s.jsx)(g,{children:"My Wallet"}),(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"px-2 py-1.5 text-sm",children:[(0,s.jsx)("div",{className:"text-muted-foreground",children:"Balance"}),(0,s.jsxs)("div",{className:"font-mono font-semibold",children:[a.balance," MON"]})]}),!u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j,{}),(0,s.jsxs)("div",{className:"px-2 py-1.5 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-destructive mb-2",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"font-semibold",children:"Wrong Network"})]}),(0,s.jsx)(o.$,{onClick:i,size:"sm",variant:"default",className:"w-full",children:"Switch to Monad"})]})]}),(0,s.jsx)(j,{}),(0,s.jsx)(v,{onClick:n,children:"Disconnect"})]})]})}var N=a(6782),w=a(5287),C=a(6009),k=a(6170),E=a(2393),A=a(6745),S=a(6414),L=a(7216);function U(){let{smartAccount:e,isSmartAccountReady:t}=(0,N.y)(),{getActiveDelegations:a}=(0,w.k)(),r=a();return e.isInitialized?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(k.Zp,{className:"glass border-primary/20 p-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(E.A,{className:"h-4 w-4 text-primary"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"Smart Account"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:t?(0,s.jsxs)(C.E,{variant:"default",className:"text-xs",children:[(0,s.jsx)(A.A,{className:"h-3 w-3 mr-1"}),"Active"]}):(0,s.jsxs)(C.E,{variant:"secondary",className:"text-xs",children:[(0,s.jsx)(S.A,{className:"h-3 w-3 mr-1"}),"Pending"]})})]})]})}),r.length>0&&(0,s.jsx)(k.Zp,{className:"glass border-accent/20 p-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(L.A,{className:"h-4 w-4 text-accent"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-xs font-medium",children:"Delegations"}),(0,s.jsxs)(C.E,{variant:"outline",className:"text-xs",children:[r.length," Active"]})]})]})})]}):(0,s.jsx)(k.Zp,{className:"glass border-muted/20 p-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Smart Account not initialized"})]})})}var _=a(105),P=a(1e3),z=a(7521),M=a(3694),R=a(2196),O=a(6364),$=a(4817);function J(){let{notifications:e,unreadCount:t,markAsRead:a,markAllAsRead:r,clearNotifications:n,removeNotification:i}=(0,O.E$)(),[c,d]=(0,m.useState)(!1),l=e=>{a(e.id),e.actionUrl&&(window.location.href=e.actionUrl)},u=e=>{switch(e){case"milestone":return"\uD83C\uDFAF";case"dispute":return"⚖️";case"escrow":return"\uD83D\uDCB0";case"application":return"\uD83D\uDCDD";default:return"\uD83D\uDD14"}},p=e=>{switch(e){case"milestone":return"text-blue-600";case"dispute":return"text-red-600";case"escrow":return"text-green-600";case"application":return"text-purple-600";default:return"text-gray-600"}};return(0,s.jsxs)(x,{open:c,onOpenChange:d,children:[(0,s.jsx)(h,{asChild:!0,children:(0,s.jsxs)(o.$,{variant:"ghost",size:"sm",className:"relative",children:[(0,s.jsx)(_.A,{className:"h-5 w-5"}),t>0&&(0,s.jsx)(C.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t>99?"99+":t})]})}),(0,s.jsxs)(f,{className:"w-80",align:"end",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Notifications"}),t>0&&(0,s.jsxs)(C.E,{variant:"secondary",className:"text-xs",children:[t," unread"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[t>0&&(0,s.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:r,className:"h-6 px-2 text-xs",children:[(0,s.jsx)(P.A,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),e.length>0&&(0,s.jsxs)(o.$,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs text-red-600 hover:text-red-700",children:[(0,s.jsx)(z.A,{className:"h-3 w-3 mr-1"}),"Clear all"]})]})]}),(0,s.jsx)(j,{}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===e.length?(0,s.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,s.jsx)(_.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{className:"text-sm",children:"No notifications yet"})]}):e.map(e=>(0,s.jsx)("div",{className:"p-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ".concat(e.read?"":"bg-blue-50 border-l-4 border-l-blue-500"),onClick:()=>l(e),children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"text-lg",children:u(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium ".concat(p(e.type)),children:e.title}),!e.read&&(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.message}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-400",children:(0,$.m)(new Date(e.timestamp),{addSuffix:!0})}),e.actionUrl&&(0,s.jsx)(M.A,{className:"h-3 w-3 text-gray-400"})]})]}),(0,s.jsx)(o.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),i(e.id)},className:"h-6 w-6 p-0 text-gray-400 hover:text-red-600",children:(0,s.jsx)(R.A,{className:"h-3 w-3"})})]})},e.id))})]})]})}var D=a(875),I=a(9638),W=a(2225),F=a(7246);function T(){let{theme:e,setTheme:t,resolvedTheme:a}=(0,F.D)(),[r,n]=m.useState(!1);return(m.useEffect(()=>{n(!0)},[]),r)?(0,s.jsxs)(o.$,{variant:"ghost",size:"icon",onClick:()=>{t("dark"===(a||e)?"light":"dark")},className:"h-9 w-9",children:["dark"===a||"dark"===e?(0,s.jsx)(I.A,{className:"h-4 w-4 transition-all"}):(0,s.jsx)(W.A,{className:"h-4 w-4 transition-all"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}):(0,s.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-9 w-9",children:(0,s.jsx)(I.A,{className:"h-4 w-4"})})}var B=a(6102),Y=a(4086),Z=a(919),q=a(4329),V=a(834);function H(){let e=(0,i.usePathname)(),[t,a]=(0,m.useState)(!1),r=(0,m.useRef)(null),{isFreelancer:d}=function(){let{wallet:e,getContract:t}=(0,c.$)(),[a,s]=(0,m.useState)(!1),[r,n]=(0,m.useState)(!1);(0,m.useEffect)(()=>{if(!e.isConnected||!e.address){s(!1);return}i()},[e.isConnected,e.address]);let i=async()=>{n(!0);try{let r=t(y.oB.SECUREFLOW_ESCROW,Z.f);if(!r){s(!1);return}let i=await r.call("nextEscrowId"),o=Number(i);if(o>1)for(let t=1;t<o;t++)try{var a;if((await r.call("getEscrowSummary",t))[1].toLowerCase()===(null===(a=e.address)||void 0===a?void 0:a.toLowerCase())){s(!0),n(!1);return}}catch(e){continue}s(!1)}catch(e){s(!1)}finally{n(!1)}};return{isFreelancer:a,loading:r}}(),{isAdmin:l}=(0,q.h)(),{isJobCreator:u}=(0,V.v)(),p=t=>"/"===t?"/"===e:e.startsWith(t);return(0,m.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,m.useEffect)(()=>{let e=e=>{t&&r.current&&!r.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 border-b border-border/40 glass",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between gap-2",children:[(0,s.jsxs)(n(),{href:"/",className:"flex items-center gap-2 font-bold text-xl",children:[(0,s.jsx)(E.A,{className:"h-6 w-6 text-primary"}),(0,s.jsx)("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"SecureFlow"})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-4",children:[(0,s.jsx)(n(),{href:"/",className:"text-sm font-medium transition-colors ".concat(p("/")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Home"}),(0,s.jsx)(n(),{href:"/jobs",className:"text-sm font-medium transition-colors ".concat(p("/jobs")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Browse Jobs"}),(0,s.jsx)(n(),{href:"/create",className:"text-sm font-medium transition-colors ".concat(p("/create")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Create Escrow"}),(0,s.jsx)(n(),{href:"/dashboard",className:"text-sm font-medium transition-colors ".concat(p("/dashboard")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Dashboard"}),u&&(0,s.jsx)(n(),{href:"/approvals",className:"text-sm font-medium transition-colors ".concat(p("/approvals")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Approvals"}),d&&(0,s.jsx)(n(),{href:"/freelancer",className:"text-sm font-medium transition-colors ".concat(p("/freelancer")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Freelancer"}),l&&(0,s.jsx)(n(),{href:"/admin",className:"text-sm font-medium transition-colors ".concat(p("/admin")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Admin"}),(0,s.jsx)(n(),{href:"/smart-account-demo",className:"text-sm font-medium transition-colors ".concat(p("/smart-account-demo")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),children:"Smart Account Demo"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(T,{})}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(U,{})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(J,{})}),(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)(b,{})}),(0,s.jsx)(o.$,{"aria-label":"Toggle menu",variant:"ghost",size:"icon",className:"md:hidden ml-1",onClick:()=>a(!t),children:t?(0,s.jsx)(R.A,{className:"h-5 w-5"}):(0,s.jsx)(D.A,{className:"h-5 w-5"})})]})]}),(0,s.jsx)(B.N,{children:t&&(0,s.jsx)(Y.P.div,{ref:r,initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"md:hidden border-t border-border/40 bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[(0,s.jsx)(n(),{href:"/",className:"text-sm font-medium transition-colors py-2 ".concat(p("/")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Home"}),(0,s.jsx)(n(),{href:"/jobs",className:"text-sm font-medium transition-colors py-2 ".concat(p("/jobs")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Browse Jobs"}),(0,s.jsx)(n(),{href:"/create",className:"text-sm font-medium transition-colors py-2 ".concat(p("/create")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Create Escrow"}),(0,s.jsx)(n(),{href:"/dashboard",className:"text-sm font-medium transition-colors py-2 ".concat(p("/dashboard")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Dashboard"}),u&&(0,s.jsx)(n(),{href:"/approvals",className:"text-sm font-medium transition-colors py-2 ".concat(p("/approvals")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Approvals"}),d&&(0,s.jsx)(n(),{href:"/freelancer",className:"text-sm font-medium transition-colors py-2 ".concat(p("/freelancer")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Freelancer"}),l&&(0,s.jsx)(n(),{href:"/admin",className:"text-sm font-medium transition-colors py-2 ".concat(p("/admin")?"text-primary bg-primary/10 px-3 py-2 rounded-md":"hover:text-primary"),onClick:()=>a(!1),children:"Admin"})]})})})]}),(0,s.jsx)(B.N,{children:t&&(0,s.jsx)(Y.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>a(!1)})})]})}},6364:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,E$:()=>d,NotificationProvider:()=>c,xg:()=>m,yZ:()=>u});var s=a(3365),r=a(1521),n=a(7408),i=a(740);let o=(0,r.createContext)(void 0);function c(e){let{children:t}=e,{wallet:a}=(0,n.$)(),{toast:c}=(0,i.dj)(),[d,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(a.isConnected&&a.address){let e=localStorage.getItem("notifications_".concat(a.address));e?l(JSON.parse(e).map(e=>({...e,timestamp:new Date(e.timestamp)}))):l([])}else l([])},[a.isConnected,a.address]),(0,r.useEffect)(()=>{a.isConnected&&a.address&&localStorage.setItem("notifications_".concat(a.address),JSON.stringify(d))},[d,a.isConnected,a.address]);let m=d.filter(e=>!e.read).length;return(0,s.jsx)(o.Provider,{value:{notifications:d,unreadCount:m,addNotification:(e,t)=>{let s={...e,id:"notification_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date,read:!1};l(e=>[s,...e]),t&&t.length>0&&t.forEach(e=>{if(e&&e!==a.address){let t=[s,...JSON.parse(localStorage.getItem("notifications_".concat(e))||"[]")];localStorage.setItem("notifications_".concat(e),JSON.stringify(t))}}),("milestone"===e.type||"dispute"===e.type)&&c({title:e.title,description:e.message})},markAsRead:e=>{l(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},markAllAsRead:()=>{l(e=>e.map(e=>({...e,read:!0})))},clearNotifications:()=>{l([])},removeNotification:e=>{l(t=>t.filter(t=>t.id!==e))},addCrossWalletNotification:(e,t,s)=>{var r,n;let i={...e,id:"notification_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date,read:!1};l(e=>[i,...e]);let o=[];t&&t.toLowerCase()!==(null===(r=a.address)||void 0===r?void 0:r.toLowerCase())&&o.push(t.toLowerCase()),s&&s.toLowerCase()!==(null===(n=a.address)||void 0===n?void 0:n.toLowerCase())&&o.push(s.toLowerCase()),o.forEach(e=>{let t=[i,...JSON.parse(localStorage.getItem("notifications_".concat(e))||"[]")];localStorage.setItem("notifications_".concat(e),JSON.stringify(t))}),("milestone"===e.type||"dispute"===e.type)&&c({title:e.title,description:e.message})}},children:t})}function d(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}let l=(e,t,a,s)=>{let r={escrowId:t,milestoneIndex:a,...s};switch(e){case"submitted":return{type:"milestone",title:"New Milestone Submitted",message:"Milestone ".concat(a+1," has been submitted for review"),actionUrl:"/dashboard?escrow=".concat(t),data:r};case"approved":return{type:"milestone",title:"Milestone Approved!",message:"Milestone ".concat(a+1," has been approved and payment released"),actionUrl:"/freelancer?escrow=".concat(t),data:r};case"rejected":return{type:"milestone",title:"Milestone Rejected",message:"Milestone ".concat(a+1," has been rejected. Please review and resubmit"),actionUrl:"/freelancer?escrow=".concat(t),data:r};case"disputed":return{type:"dispute",title:"Milestone Disputed",message:"Milestone ".concat(a+1," is under dispute and requires admin review"),actionUrl:"/admin?escrow=".concat(t),data:r};default:return{type:"milestone",title:"Milestone Update",message:"Milestone ".concat(a+1," status updated"),actionUrl:"/dashboard?escrow=".concat(t),data:r}}},m=(e,t,a)=>{let s={escrowId:t,...a};switch(e){case"created":return{type:"escrow",title:"New Escrow Created",message:"A new escrow has been created and is ready for work",actionUrl:"/dashboard?escrow=".concat(t),data:s};case"completed":return{type:"escrow",title:"Escrow Completed!",message:"All milestones have been completed and payments released",actionUrl:"/dashboard?escrow=".concat(t),data:s};case"refunded":return{type:"escrow",title:"Escrow Refunded",message:"The escrow has been refunded due to project cancellation",actionUrl:"/dashboard?escrow=".concat(t),data:s};case"work_started":return{type:"escrow",title:"Work Started!",message:"".concat((null==a?void 0:a.freelancerName)||"Freelancer"," has started work on ").concat((null==a?void 0:a.projectTitle)||"Project #".concat(t)),actionUrl:"/dashboard?escrow=".concat(t),data:s};default:return{type:"escrow",title:"Escrow Update",message:"Escrow status has been updated",actionUrl:"/dashboard?escrow=".concat(t),data:s}}},u=(e,t,a,s)=>{let r={jobId:t,freelancerAddress:a,...s};switch(e){case"submitted":return{type:"application",title:"New Job Application",message:"Someone applied to your job: ".concat((null==s?void 0:s.jobTitle)||"Job #".concat(t)),actionUrl:"/approvals?job=".concat(t),data:r};case"approved":return{type:"application",title:"Application Approved!",message:"Your application for ".concat((null==s?void 0:s.jobTitle)||"Job #".concat(t)," has been approved"),actionUrl:"/freelancer?job=".concat(t),data:r};case"rejected":return{type:"application",title:"Application Rejected",message:"Your application for ".concat((null==s?void 0:s.jobTitle)||"Job #".concat(t)," was not selected"),actionUrl:"/freelancer?job=".concat(t),data:r};default:return{type:"application",title:"Application Update",message:"Application status updated for ".concat((null==s?void 0:s.jobTitle)||"Job #".concat(t)),actionUrl:"/approvals?job=".concat(t),data:r}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[639,203,202,886,315,198,403,898,654,347,870,358],()=>t(4708)),_N_E=e.O()}]);